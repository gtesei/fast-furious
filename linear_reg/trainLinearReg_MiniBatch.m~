function [theta] = trainLinearReg_MiniBatch(fX,ciX,ceX,fy,ciy,cey,lambda,b=10000,iter=200)

  % Initialize Theta
  theta = zeros(size(X, 2), 1);

  X = dlmread(fX,sep=_sep,[0,ciX,b-1,ceX]);
  y = dlmread(fy,sep=_sep,[0,ciy,b-1,cey]);
  c = b;

  while (size(X,1) == b)
    costFunction = @(t) linearRegCostFunction(X, y, t, lambda);
    options = optimset('MaxIter', iter, 'GradObj', 'on');
    theta = fmincg(costFunction, theta, options);
    X = dlmread(fX,sep=_sep,[c,ciX,c+b-a,ceX]);
    y = dlmread(fy,sep=_sep,[0,ciy,b-1,cey]);
    c += b;
  endwhile

endfunction
